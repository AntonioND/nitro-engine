<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Nitro Engine: Touch test.</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Touch test.</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__test.html#g4a214236e3dba23252b31a8ad01ed2da">NE_TouchTestStart</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start a 'touch test mode' and saves current matrices.  <a href="#g4a214236e3dba23252b31a8ad01ed2da"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gc763917aacd2fe01f90427f7cbc78f42"></a><!-- doxytag: member="touch_test::NE_TouchTestObject" ref="gc763917aacd2fe01f90427f7cbc78f42" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__test.html#gc763917aacd2fe01f90427f7cbc78f42">NE_TouchTestObject</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Starts a test for a model. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gc5f7733baa7976fcaedf7ce0b71b4385"></a><!-- doxytag: member="touch_test::NE_TouchTestResult" ref="gc5f7733baa7976fcaedf7ce0b71b4385" args="(void)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__test.html#gc5f7733baa7976fcaedf7ce0b71b4385">NE_TouchTestResult</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns -1 if the model is NOT being touched. If it is touched, returns the distance from the camera. Quite useful, isn't is? ;). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__test.html#g902a199e456a3164e1ec838e564fcfa1">NE_TouchTestEnd</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Ends the 'touch test mode' and sets the matrices that were saved before.  <a href="#g902a199e456a3164e1ec838e564fcfa1"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
If you wanted to know if you are touching something, this is for you! These functions perform tests to know if an object is under the stylus coordinates and return its distance from the camera.<p>
Note: There is a bug when first two coordinates of viewport are different from (0,0) in gluPickMatrix. Note2: This uses last stylus coordinates even if it has been released. You will have to check by yourself if it is really touching the screen. Note3: It two objects are overlaping the test may fail to diferenciate which of them is closer to the camera. Note4: If you want to draw something without using <a class="el" href="group__model__system.html#g3300bc88fe28d9dac079b2fe22e1dd9d" title="Draws a model.">NE_ModelDraw()</a>, you will have to move the view to the center of your model and use PosTest_Asynch(0,0,0).<p>
How to use this: 1-Init a 'touch test mode' with <a class="el" href="group__touch__test.html#g4a214236e3dba23252b31a8ad01ed2da" title="Start a &#39;touch test mode&#39; and saves current matrices.">NE_TouchTestStart()</a> to prepare the hardware to perform this test. During this mode, polygons are not drawn. Because of that, you could (and should) use models with less details than originals (no texture, no normals, less polygons...).<p>
2-Call <a class="el" href="group__touch__test.html#gc763917aacd2fe01f90427f7cbc78f42" title="Starts a test for a model.">NE_TouchTestObject()</a>.<p>
3-Draw the model with <a class="el" href="group__model__system.html#g3300bc88fe28d9dac079b2fe22e1dd9d" title="Draws a model.">NE_ModelDraw()</a>.<p>
4-Call <a class="el" href="group__touch__test.html#gc5f7733baa7976fcaedf7ce0b71b4385" title="Returns -1 if the model is NOT being touched. If it is touched, returns the distance...">NE_TouchTestResult()</a> to know if it is being touched. If it is touched, it returns the distance from the camera. ;)<p>
5-Repeat 2-4 for each model you want to test.<p>
6-Call <a class="el" href="group__touch__test.html#g902a199e456a3164e1ec838e564fcfa1" title="Ends the &#39;touch test mode&#39; and sets the matrices that were saved before.">NE_TouchTestEnd()</a> to return back to normal. Polygons are drawn on screen after this.<p>
Adapted from the Picking example of libNDS by Gabe Ghearing. <hr><h2>Function Documentation</h2>
<a class="anchor" name="g902a199e456a3164e1ec838e564fcfa1"></a><!-- doxytag: member="NEGeneral.h::NE_TouchTestEnd" ref="g902a199e456a3164e1ec838e564fcfa1" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NE_TouchTestEnd           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Ends the 'touch test mode' and sets the matrices that were saved before. 
<p>
Polygons drawn after this will be displayed on screen. 
</div>
</div><p>
<a class="anchor" name="g4a214236e3dba23252b31a8ad01ed2da"></a><!-- doxytag: member="NEGeneral.h::NE_TouchTestStart" ref="g4a214236e3dba23252b31a8ad01ed2da" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NE_TouchTestStart           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Start a 'touch test mode' and saves current matrices. 
<p>
Polygons drawn after this won't be displayed on screen. It is a good idea to use models with less details than the original to this test.<p>
This doesn't work in emulators.<p>
gluPickMatrix has a bug that appears when the two first coordinates of viewport are different from (0,0). 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Sep 1 15:40:12 2011 for Nitro Engine by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
